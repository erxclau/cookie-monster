var Y=(t,n,e)=>{if(!n.has(t))throw TypeError("Cannot "+e)};var f=(t,n,e)=>(Y(t,n,"read from private field"),e?e.call(t):n.get(t)),h=(t,n,e)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,e)},l=(t,n,e,i)=>(Y(t,n,"write to private field"),i?i.call(t,e):n.set(t,e),e);import"./download-image.15bf44c5.js";import{g as et,$ as q}from"./util.82aea728.js";function yt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}class rt extends Map{constructor(n,e=ot){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[i,s]of n)this.set(i,s)}get(n){return super.get(J(this,n))}has(n){return super.has(J(this,n))}set(n,e){return super.set(it(this,n),e)}delete(n){return super.delete(st(this,n))}}function J({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):e}function it({_intern:t,_key:n},e){const i=n(e);return t.has(i)?t.get(i):(t.set(i,e),e)}function st({_intern:t,_key:n},e){const i=n(e);return t.has(i)&&(e=t.get(i),t.delete(i)),e}function ot(t){return t!==null&&typeof t=="object"?t.valueOf():t}function X(t){return t}function ut(t,n){for(let e=1,i=n.length;e<i;++e)t=t.flatMap(s=>s.pop().map(([d,m])=>[...s,d,m]));return t}function Nt(t,n,...e){return ut(at(t,n,...e),e)}function Tt(t,n,...e){return v(t,X,n,e)}function at(t,n,...e){return v(t,Array.from,n,e)}function At(t,...n){return v(t,X,ft,n)}function ft(t){if(t.length!==1)throw new Error("duplicate key");return t[0]}function v(t,n,e,i){return function s(d,m){if(m>=i.length)return e(d);const C=new rt,V=i[m++];let z=-1;for(const g of d){const r=V(g,++z,d),o=C.get(r);o?o.push(g):C.set(r,[g])}for(const[g,r]of C)C.set(g,s(r,m));return n(C)}(t,0)}var G={},Z={},P=34,R=10,$=13;function tt(t){return new Function("d","return {"+t.map(function(n,e){return JSON.stringify(n)+": d["+e+'] || ""'}).join(",")+"}")}function ct(t,n){var e=tt(t);return function(i,s){return n(e(i),s,t)}}function K(t){var n=Object.create(null),e=[];return t.forEach(function(i){for(var s in i)s in n||e.push(n[s]=s)}),e}function c(t,n){var e=t+"",i=e.length;return i<n?new Array(n-i+1).join(0)+e:e}function ht(t){return t<0?"-"+c(-t,6):t>9999?"+"+c(t,6):c(t,4)}function lt(t){var n=t.getUTCHours(),e=t.getUTCMinutes(),i=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ht(t.getUTCFullYear())+"-"+c(t.getUTCMonth()+1,2)+"-"+c(t.getUTCDate(),2)+(s?"T"+c(n,2)+":"+c(e,2)+":"+c(i,2)+"."+c(s,3)+"Z":i?"T"+c(n,2)+":"+c(e,2)+":"+c(i,2)+"Z":e||n?"T"+c(n,2)+":"+c(e,2)+"Z":"")}function gt(t){var n=new RegExp('["'+t+`
\r]`),e=t.charCodeAt(0);function i(r,o){var p,a,u=s(r,function(y,w){if(p)return p(y,w-1);a=y,p=o?ct(y,o):tt(y)});return u.columns=a||[],u}function s(r,o){var p=[],a=r.length,u=0,y=0,w,W=a<=0,N=!1;r.charCodeAt(a-1)===R&&--a,r.charCodeAt(a-1)===$&&--a;function Q(){if(W)return Z;if(N)return N=!1,G;var H,L=u,A;if(r.charCodeAt(L)===P){for(;u++<a&&r.charCodeAt(u)!==P||r.charCodeAt(++u)===P;);return(H=u)>=a?W=!0:(A=r.charCodeAt(u++))===R?N=!0:A===$&&(N=!0,r.charCodeAt(u)===R&&++u),r.slice(L+1,H-1).replace(/""/g,'"')}for(;u<a;){if((A=r.charCodeAt(H=u++))===R)N=!0;else if(A===$)N=!0,r.charCodeAt(u)===R&&++u;else if(A!==e)continue;return r.slice(L,H)}return W=!0,r.slice(L,a)}for(;(w=Q())!==Z;){for(var B=[];w!==G&&w!==Z;)B.push(w),w=Q();o&&(B=o(B,y++))==null||p.push(B)}return p}function d(r,o){return r.map(function(p){return o.map(function(a){return g(p[a])}).join(t)})}function m(r,o){return o==null&&(o=K(r)),[o.map(g).join(t)].concat(d(r,o)).join(`
`)}function C(r,o){return o==null&&(o=K(r)),d(r,o).join(`
`)}function V(r){return r.map(z).join(`
`)}function z(r){return r.map(g).join(t)}function g(r){return r==null?"":r instanceof Date?lt(r):n.test(r+="")?'"'+r.replace(/"/g,'""')+'"':r}return{parse:i,parseRows:s,format:m,formatBody:C,formatRows:V,formatRow:z,formatValue:g}}var dt=gt(","),Rt=dt.parse;function jt(t){for(var n in t){var e=t[n].trim(),i,s;if(!e)e=null;else if(e==="true")e=!0;else if(e==="false")e=!1;else if(e==="NaN")e=NaN;else if(!isNaN(i=+e))e=i;else if(s=e.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))pt&&!!s[4]&&!s[7]&&(e=e.replace(/-/g,"/").replace(/T/," ")),e=new Date(e);else continue;t[n]=e}return t}const pt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();var _,k,T,D,U,M,O,b,I,S,x,F;class Et{constructor(){h(this,_,void 0);h(this,k,void 0);h(this,T,void 0);h(this,D,void 0);h(this,U,void 0);h(this,M,void 0);h(this,O,void 0);h(this,b,void 0);h(this,I,void 0);h(this,S,void 0);h(this,x,void 0);h(this,F,void 0)}width(n){return arguments.length?(l(this,_,n),this):f(this,_)}height(n){return arguments.length?(l(this,k,n),this):f(this,k)}margin(n){return arguments.length?(l(this,T,{...f(this,T),...n}),this):f(this,T)}xScale(n){return arguments.length?(l(this,D,n),this):f(this,D)}xAxis(n){return arguments.length?(l(this,U,n),this):f(this,U)}yScale(n){return arguments.length?(l(this,M,n),this):f(this,M)}yAxis(n){return arguments.length?(l(this,O,n),this):f(this,O)}color(n){return arguments.length?(l(this,b,n),this):f(this,b)}label(n){return arguments.length?(l(this,I,n),this):f(this,I)}resize(n){return arguments.length?(l(this,S,n),this):f(this,S)}redraw(n){return arguments.length?(l(this,x,n),this):f(this,x)}wrappx(n){return arguments.length?(l(this,F,n),this):f(this,F)}appendOnce(n,e){return this.redraw()?this.svg.select(`.${e}`):this.svg.append(n).attr("class",e)}getResponsiveWidth(){const e=this.svg.node().parentNode.clientWidth;return this.resize()||e<this.width()?e:this.width()}getSelectionWithRedrawContext(n){return this.redraw()?n.transition().duration(1e3):n}}_=new WeakMap,k=new WeakMap,T=new WeakMap,D=new WeakMap,U=new WeakMap,M=new WeakMap,O=new WeakMap,b=new WeakMap,I=new WeakMap,S=new WeakMap,x=new WeakMap,F=new WeakMap;const _t=t=>t.draw.bind(t),nt=et(),j=t=>nt.get(t)==="false",E=t=>{q(t)&&(q(t).style.display="none")},kt=()=>{j("hed")&&E(".figure__title"),j("dek")&&E(".figure__caption"),j("note")&&E(".figure__note"),j("source")&&E(".figure__source"),j("byline")&&E(".figure__byline"),nt.get("home")==="true"&&document.body.classList.add("homepage")};export{rt as I,Et as V,jt as a,_t as b,Rt as c,yt as d,Nt as f,At as i,Tt as r,kt as s};
