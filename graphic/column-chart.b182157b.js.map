{"mappings":"4xCAAA,IAAAA,EAAAC,EAAA,kDAAAC,EAAAD,EAAA,U,sBACAE,EAAAF,EAAA,MACAG,EAAAH,EAAA,uBAEAI,EAAAJ,EAAA,oB,sBAEAK,EAAAL,EAAA,0B,sBAmCAM,OAAOC,SAAW,OAElBD,OAAOE,OAAS,KACd,MAAMC,EAAW,IAAIC,EAAAC,QAAIC,MAAM,CAAEC,QAAS,MAC1CJ,EAASK,aACTL,EAASM,UAAU,WAAYC,EAAAL,SAtCpB,MACX,MAAMM,EAAYC,EAAAP,QACfQ,QAAQC,GAA2B,aAArBA,EAAE,iBAChBC,KAAKD,IACwB,gCAAxBA,EAAE,oBACJA,EAAE,kBAAoB,mBAEjBA,KAELE,GAAO,EAAApB,EAAAqB,QACXN,GACCO,GAAMA,EAAEC,SACRL,GAAMA,EAAE,oBAGLM,GAAQ,EAAAxB,EAAAyB,gBACXC,OAAON,EAAKO,QACZC,MAAM3B,EAAA4B,WAAWC,MAAM,EAAGV,EAAKW,QAElC,EAAA/B,EAAAgC,QAAO,UACJC,OAAO,OACPC,MAAMd,GACNe,MACC,EAAAlC,EAAAmC,QACE,IAAI,EAAAnC,EAAAoC,cACDC,OAAO,KACPC,OAAO,CAAEC,KAAM,GAAIC,MAAO,KAC1BC,OAAO,KACPlB,OAAON,GAAMM,EAAMN,EAAE,OAE3B,EASHyB,EAAM,C","sources":["src/graphic/js/column.js"],"sourcesContent":["import pym from \"pym.js\";\nimport { select, rollup, scaleOrdinal } from \"d3\";\nimport { build, schemeMain, ColumnChart } from \"@michigandaily/bore\";\n\nimport downloadImage from \"./download-image\";\n\nimport csvfile from \"../data/2022-state.csv\";\n\nconst draw = () => {\n  const districts = csvfile\n    .filter((d) => d[\"School Type\"] === \"District\")\n    .map((d) => {\n      if (d[\"Overall Rating\"] === \"Not Rated: Senate Bill 1365\") {\n        d[\"Overall Rating\"] = \"Not Rated (D/F)\";\n      }\n      return d;\n    });\n  const data = rollup(\n    districts,\n    (v) => v.length,\n    (d) => d[\"Overall Rating\"]\n  );\n\n  const color = scaleOrdinal()\n    .domain(data.keys())\n    .range(schemeMain.slice(0, data.size));\n\n  select(\"figure\")\n    .append(\"svg\")\n    .datum(data)\n    .call(\n      build(\n        new ColumnChart()\n          .wrappx(100)\n          .margin({ left: 50, right: 50 })\n          .height(400)\n          .color((d) => color(d[0]))\n      )\n    );\n};\n\nwindow.onresize = () => {};\n\nwindow.onload = () => {\n  const pymChild = new pym.Child({ polling: 500 });\n  pymChild.sendHeight();\n  pymChild.onMessage(\"download\", downloadImage);\n  draw();\n};\n"],"names":["parcelHelpers","require","_pymJs","_d3","_bore","_downloadImage","_2022StateCsv","window","onresize","onload","pymChild","_pymJsDefault","default","Child","polling","sendHeight","onMessage","_downloadImageDefault","districts","_2022StateCsvDefault","filter","d","map","data","rollup","v","length","color","scaleOrdinal","domain","keys","range","schemeMain","slice","size","select","append","datum","call","build","ColumnChart","wrappx","margin","left","right","height","draw"],"version":3,"file":"column-chart.b182157b.js.map"}