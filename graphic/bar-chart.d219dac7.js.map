{"mappings":"0xCAAA,IAAAA,EAAAC,EAAA,kDAAAC,EAAAD,EAAA,U,sBACAE,EAAAF,EAAA,MACAG,EAAAH,EAAA,uBAEAI,EAAAJ,EAAA,oB,sBAEAK,EAAAL,EAAA,0B,sBA4BAM,OAAOC,SAAW,OAElBD,OAAOE,OAAS,KACd,MAAMC,EAAW,IAAIC,EAAAC,QAAIC,MAAM,CAAEC,QAAS,MAC1CJ,EAASK,aACTL,EAASM,UAAU,WAAYC,EAAAL,SA/BpB,MACX,MAAMM,EAAYC,EAAAP,QAAQQ,QAAQC,GAA2B,aAArBA,EAAE,iBACpCC,GAAO,EAAAnB,EAAAoB,QACXL,GACCM,GAAMA,EAAEC,SACRJ,GAAMA,EAAE,oBAGLK,GAAQ,EAAAvB,EAAAwB,gBACXC,OAAON,EAAKO,QACZC,MAAM1B,EAAA2B,WAAWC,MAAM,EAAGV,EAAKW,QAElC,EAAA9B,EAAA+B,QAAO,UACJC,OAAO,OACPC,MAAMd,GACNe,MACC,EAAAjC,EAAAkC,QACE,IAAI,EAAAlC,EAAAmC,WACDC,OAAO,KACPC,OAAO,CAAEC,KAAM,GAAIC,MAAO,KAC1BC,OAAO,KACPlB,OAAOL,GAAMK,EAAML,EAAE,OAE3B,EASHwB,EAAM,C","sources":["src/graphic/js/bar.js"],"sourcesContent":["import pym from \"pym.js\";\nimport { select, rollup, scaleOrdinal } from \"d3\";\nimport { build, BarChart, schemeMain } from \"@michigandaily/bore\";\n\nimport downloadImage from \"./download-image\";\n\nimport csvfile from \"../data/2022-state.csv\";\n\nconst draw = () => {\n  const districts = csvfile.filter((d) => d[\"School Type\"] === \"District\");\n  const data = rollup(\n    districts,\n    (v) => v.length,\n    (d) => d[\"Overall Rating\"]\n  );\n\n  const color = scaleOrdinal()\n    .domain(data.keys())\n    .range(schemeMain.slice(0, data.size));\n\n  select(\"figure\")\n    .append(\"svg\")\n    .datum(data)\n    .call(\n      build(\n        new BarChart()\n          .wrappx(100)\n          .margin({ left: 50, right: 50 })\n          .height(250)\n          .color((d) => color(d[0]))\n      )\n    );\n};\n\nwindow.onresize = () => {};\n\nwindow.onload = () => {\n  const pymChild = new pym.Child({ polling: 500 });\n  pymChild.sendHeight();\n  pymChild.onMessage(\"download\", downloadImage);\n  draw();\n};\n"],"names":["parcelHelpers","require","_pymJs","_d3","_bore","_downloadImage","_2022StateCsv","window","onresize","onload","pymChild","_pymJsDefault","default","Child","polling","sendHeight","onMessage","_downloadImageDefault","districts","_2022StateCsvDefault","filter","d","data","rollup","v","length","color","scaleOrdinal","domain","keys","range","schemeMain","slice","size","select","append","datum","call","build","BarChart","wrappx","margin","left","right","height","draw"],"version":3,"file":"bar-chart.d219dac7.js.map"}