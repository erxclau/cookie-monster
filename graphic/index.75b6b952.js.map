{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-d31df96d144917d7.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/graphic/js/graphic.js","src/graphic/js/download-image.js","node_modules/@parcel/runtime-js/lib/runtime-bd84205591abf723.js","node_modules/@parcel/runtime-js/lib/helpers/browser/js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jYuiX\\\":\\\"index.75b6b952.js\\\",\\\"2v14X\\\":\\\"es.ba6b3faf.js\\\",\\\"5YXSm\\\":\\\"index.25635665.js\\\"}\"));","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","// JS for your graphic\nimport pym from \"pym.js\";\n// import * as d3 from \"d3\";\n\nimport downloadImage from \"./download-image\";\n\nconst draw = () => {\n  // step 1: access data\n  // step 2: create chart dimensions\n  // step 3: draw canvas\n  // step 4: create scales\n  // step 5: draw data\n  // step 6: draw peripherals\n  // step 7: set up interactions\n};\n\nwindow.onresize = () => {};\n\nwindow.onload = () => {\n  const pymChild = new pym.Child({ polling: 500 });\n  pymChild.sendHeight();\n  pymChild.onMessage(\"download\", downloadImage);\n  draw();\n};\n","const downloadImage = async (message) => {\n  const { format, width } = JSON.parse(message);\n  const { toSvg, toPng } = await import(\"html-to-image\");\n  const converter = format === \"svg\" ? toSvg : toPng;\n  const imgurl = await converter(document.body);\n  const a = document.createElement(\"a\");\n  a.href = imgurl;\n  a.download = `cookie-graphic-${new Date().toISOString()}-${width}.${format}`;\n  a.click();\n  a.remove();\n};\n\nexport default downloadImage;\n","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('jYuiX') + \"../\" + require('./helpers/bundle-manifest').resolve(\"2v14X\"))).then(() => module.bundle.root('ivOds'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\n\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same script twice (e.g. if it was already in the HTML)\n    var existingScripts = document.getElementsByTagName('script');\n\n    if ([].concat(existingScripts).some(function isCurrentBundle(script) {\n      return script.src === bundle;\n    })) {\n      resolve();\n      return;\n    }\n\n    var preloadLink = document.createElement('link');\n    preloadLink.href = bundle;\n    preloadLink.rel = 'preload';\n    preloadLink.as = 'script';\n    document.head.appendChild(preloadLink);\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.src = bundle;\n\n    script.onerror = function (e) {\n      var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n      script.onerror = script.onload = null;\n      script.remove();\n      reject(error);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\n\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n\n    case 'prefetch':\n      return cachedPrefetches;\n\n    default:\n      return cachedBundles;\n  }\n}\n\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;"],"names":["require","register","JSON","parse","mapping","module","exports","pairs","keys","Object","i","length","resolve","id","resolved","Error","parcelHelpers","_pymJs","_downloadImage","window","onresize","onload","pymChild","_pymJsDefault","default","Child","polling","sendHeight","onMessage","_downloadImageDefault","async","message","format","width","toSvg","toPng","converter","imgurl","document","body","a","createElement","href","download","Date","toISOString","click","remove","getBundleURL","then","bundle","root","cacheLoader","Promise","reject","existingScripts","getElementsByTagName","concat","some","script","src","preloadLink","rel","as","head","appendChild","type","onerror","e","error","TypeError","cachedBundles","cachedPreloads","cachedPrefetches","getCache","loader","cache","apply","arguments","catch","bundleURL","getBaseURL","url","replace","value","err","matches","stack","match","getOrigin"],"version":3,"file":"index.75b6b952.js.map"}