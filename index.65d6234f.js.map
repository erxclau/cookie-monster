{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-3cf3dfe5cb8fa7e1.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/index.js","node_modules/@parcel/runtime-js/lib/runtime-f37ba18c6f30319a.js","node_modules/@parcel/runtime-js/lib/helpers/browser/js-loader.js","node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"83VnX\\\":\\\"index.65d6234f.js\\\",\\\"65Aug\\\":\\\"config.2258a256.js\\\",\\\"5YXSm\\\":\\\"index.25635665.js\\\"}\"));","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import pym from \"pym.js\";\n\nconst { history, title, location } = window;\n\nconst $ = (selector) => document.querySelector(selector);\n\nconst setQueryParams = (params) => {\n  history.replaceState(null, title, `?${params.toString()}`);\n};\n\nconst getQueryParams = () => new URLSearchParams(location.search.slice(1));\n\nconst setWidth = (width) => {\n  $(\"#graphic\").style.width = `${width}px`;\n  const params = getQueryParams();\n  params.set(\"width\", width);\n  setQueryParams(params);\n};\n\n// https://www.freecodecamp.org/news/javascript-debounce-example/\nfunction debounce(func, timeout = 300) {\n  let timer;\n  return (...args) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      func.apply(this, args);\n    }, timeout);\n  };\n}\n\nwindow.onload = async () => {\n  const graphic = $(\"#graphic\");\n\n  // Set the width on load if exists\n  const params = getQueryParams();\n\n  const { entries } = await import(\"../../config.json\");\n  let entry = params.get(\"entry\") ?? Object.keys(entries)[0];\n\n  if (!Object.hasOwn(entries, entry)) {\n    params.delete(\"entry\");\n    setQueryParams(params);\n    entry = Object.keys(entries)[0];\n  }\n\n  let parent = new pym.Parent(\"graphic\", `./graphic/${entry}`, {});\n\n  const viewRaw = $(\"#view-raw\");\n  viewRaw.href = `./graphic/${entry}`;\n\n  const urlInput = $(\"#url-input\");\n  urlInput.value = `${location.origin + location.pathname}graphic/${entry}`;\n  urlInput.size = urlInput.value.length;\n\n  const entrypointSelect = $(\"#entrypoint-select\");\n\n  Object.keys(entries).forEach((key) => {\n    const option = document.createElement(\"option\");\n    option.value = key;\n    option.textContent = key;\n    if (key === entry) {\n      option.selected = true;\n    }\n    entrypointSelect.appendChild(option);\n  });\n\n  entrypointSelect.disabled = Object.keys(entries).length <= 1;\n  entrypointSelect.addEventListener(\"change\", (e) => {\n    urlInput.value = `${location.origin + location.pathname}graphic/${\n      e.target.value\n    }`;\n    urlInput.size = urlInput.value.length;\n\n    viewRaw.href = `./graphic/${e.target.value}`;\n\n    params.set(\"entry\", e.target.value);\n    setQueryParams(params);\n\n    parent.remove();\n    parent = new pym.Parent(\"graphic\", `./graphic/${e.target.value}`, {});\n  });\n\n  if (params.has(\"width\")) {\n    setWidth(params.get(\"width\"));\n  }\n\n  const resizeObserver = new ResizeObserver(\n    debounce(([e]) => {\n      setWidth(e.contentRect.width);\n    })\n  );\n  resizeObserver.observe(graphic);\n\n  $(\"#desktop-preview\").addEventListener(\"click\", () => {\n    setWidth(780);\n  });\n  $(\"#small-mobile-preview\").addEventListener(\"click\", () => {\n    setWidth(288);\n  });\n  $(\"#large-mobile-preview\").addEventListener(\"click\", () => {\n    setWidth(338);\n  });\n\n  const copyButton = $(\"#copy-url-button\");\n\n  copyButton.addEventListener(\"click\", () => {\n    urlInput.select();\n    urlInput.setSelectionRange(0, urlInput.value.length);\n    document.execCommand(\"copy\");\n    copyButton.innerHTML = \"Copied!\";\n  });\n\n  $(\"#download-png\").addEventListener(\"click\", () => {\n    parent.sendMessage(\n      \"download\",\n      JSON.stringify({\n        format: \"png\",\n        width: graphic.clientWidth,\n      })\n    );\n  });\n\n  $(\"#download-svg\").addEventListener(\"click\", () => {\n    parent.sendMessage(\n      \"download\",\n      JSON.stringify({\n        format: \"svg\",\n        width: graphic.clientWidth,\n      })\n    );\n  });\n};\n","module.exports = (require(\"./helpers/browser/js-loader\")(require('./helpers/bundle-url').getBundleURL('83VnX') + require('./helpers/bundle-manifest').resolve(\"65Aug\"))).then(() => module.bundle.root('8jf0k'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\n\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same script twice (e.g. if it was already in the HTML)\n    var existingScripts = document.getElementsByTagName('script');\n\n    if ([].concat(existingScripts).some(function isCurrentBundle(script) {\n      return script.src === bundle;\n    })) {\n      resolve();\n      return;\n    }\n\n    var preloadLink = document.createElement('link');\n    preloadLink.href = bundle;\n    preloadLink.rel = 'preload';\n    preloadLink.as = 'script';\n    document.head.appendChild(preloadLink);\n    var script = document.createElement('script');\n    script.async = true;\n    script.type = 'text/javascript';\n    script.src = bundle;\n\n    script.onerror = function (e) {\n      var error = new TypeError(\"Failed to fetch dynamically imported module: \".concat(bundle, \". Error: \").concat(e.message));\n      script.onerror = script.onload = null;\n      script.remove();\n      reject(error);\n    };\n\n    script.onload = function () {\n      script.onerror = script.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(script);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\n\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n\n    case 'prefetch':\n      return cachedPrefetches;\n\n    default:\n      return cachedBundles;\n  }\n}\n\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;"],"names":["require","register","JSON","parse","mapping","module","exports","pairs","keys","Object","i","length","resolve","id","resolved","Error","parcelHelpers","_pymJs","history","title","location","window","$","selector","document","querySelector","setQueryParams","params","replaceState","toString","getQueryParams","URLSearchParams","search","slice","setWidth","width","style","set","onload","async","graphic","entries","ref","entry","get","hasOwn","delete","parent","_pymJsDefault","default","Parent","viewRaw","href","urlInput","value","origin","pathname","size","entrypointSelect","forEach","key","option","createElement","textContent","selected","appendChild","disabled","addEventListener","e","target","remove","has","ResizeObserver","func","timeout","timer","args","clearTimeout","setTimeout","apply","this","debounce","contentRect","observe","copyButton","select","setSelectionRange","execCommand","innerHTML","sendMessage","stringify","format","clientWidth","getBundleURL","then","bundle","root","cacheLoader","Promise","reject","existingScripts","getElementsByTagName","concat","some","script","src","preloadLink","rel","as","head","type","onerror","error","TypeError","message","cachedBundles","cachedPreloads","cachedPrefetches","getCache","loader","cache","arguments","catch","bundleURL","getBaseURL","url","replace","err","matches","stack","match","getOrigin"],"version":3,"file":"index.65d6234f.js.map"}